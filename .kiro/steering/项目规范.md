# 项目开发规范

## 代码风格

### TypeScript/JavaScript

- 使用 TypeScript 进行类型安全开发
- 优先使用 `const` 和 `let`，避免使用 `var`
- 使用箭头函数代替传统函数表达式
- 保持函数简洁，单一职责原则
- 使用有意义的变量和函数命名（驼峰命名法）

### Vue 组件

- 使用 Composition API（`<script setup>`）
- 组件文件名使用 PascalCase（如 `CodeEditor.vue`）
- Props 定义使用 TypeScript 类型
- 合理拆分组件，保持组件职责单一
- 使用 `defineProps` 和 `defineEmits` 定义接口

### 样式

- 使用 UnoCSS 工具类优先
- 组件样式使用 `<style scoped>` 或 `<style scoped lang="scss">`
- 支持 SCSS 预处理器，可使用变量、嵌套、混合等特性
- 全局样式变量统一管理在 `src/styles/` 目录
- 保持样式的可维护性和复用性

## 项目结构

```
src/
├── components/     # Vue 组件
├── stores/        # Pinia 状态管理
├── utils/         # 工具函数
├── styles/        # 全局样式
└── router/        # 路由配置
```

## 开发流程

### 提交规范

- 使用清晰的提交信息
- 格式：`类型: 简短描述`
- 类型示例：feat（新功能）、fix（修复）、docs（文档）、style（样式）、refactor（重构）

### 测试

- 在提交前测试功能
- 确保没有 TypeScript 类型错误
- 检查控制台是否有警告或错误

## 最佳实践

### 性能优化

- 使用 `computed` 缓存计算结果
- 合理使用 `watch` 和 `watchEffect`
- 避免不必要的响应式数据
- 大列表使用虚拟滚动

### 代码质量

- 保持代码简洁易读
- 添加必要的注释说明复杂逻辑
- 避免重复代码，提取公共逻辑
- 使用 ESLint 和 Prettier 保持代码一致性

### 安全性

- 验证用户输入
- 避免 XSS 攻击
- 敏感信息不要硬编码
- 使用环境变量管理配置

## 工具配置

- **构建工具**: Vite
- **包管理器**: npm
- **代码检查**: ESLint + Oxlint
- **代码格式化**: Prettier
- **CSS 框架**: UnoCSS
- **CSS 预处理器**: SCSS/Sass
- **状态管理**: Pinia
- **路由**: Vue Router

## SCSS 使用指南

### 基本用法

在 Vue 组件中使用 SCSS：

```vue
<style scoped lang="scss">
.container {
  padding: 20px;

  .title {
    font-size: 24px;
    color: $primary-color;
  }

  &:hover {
    background-color: rgba(0, 0, 0, 0.05);
  }
}
</style>
```

### 全局变量和混合

在 `src/styles/` 目录创建 SCSS 文件：

- `variables.scss` - 全局变量
- `mixins.scss` - 可复用的混合
- `functions.scss` - SCSS 函数

在组件中导入：

```scss
@import '@/styles/variables.scss';
@import '@/styles/mixins.scss';
```

### 最佳实践

- 优先使用 UnoCSS 工具类处理简单样式
- 复杂样式、动画、主题切换使用 SCSS
- 避免过深的嵌套（建议不超过 3 层）
- 使用变量管理颜色、间距等设计令牌
- 利用混合（mixin）复用常见样式模式
